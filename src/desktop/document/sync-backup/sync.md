---
title: 同步功能
---

此功能可以用于同步各端收藏的歌曲。

:::warning

此功能是实验性的，v2.2.0的同步功能不支持与移动端v1.0.0之前版本的使用

目前PC端最新版已可以与移动端最新版进行同步，如果你之前升级过v2.0.0版本，后来用回v1.x.x，现在你可以删除
[数据目录](../data-path.html) 下的`LxDatas`目录，再次升级到最新版本即可

:::

:::danger

由于同步传输时的数据是明文传输，请在受信任的网络下使用此功能！

请不要将端口号设置为`0`或者大于`65536`的数字，如果你不懂怎么改，请恢复为默认的`23332`！

:::

从v2.2.0起，PC端的同步功能有两种工作模式：

- 服务端模式，用于在同一局域网下，为其他设备提供同步服务

- 客户端模式，与移动端一样，可用于连接另一个处于“服务端模式”的PC端或独立版数据同步服务

如果你有服务器，可以考虑部署我们开发的独立版
[数据同步服务](https://github.com/lyswhut/lx-music-sync-server#readme)到你的服务器上，作为私人多端同步服务使用。


## 使用方法

### 图片教程

![img](https://i3.mjj.rip/2023/07/11/dcfca98c5b5ae6b7d4dd27cee5b13eda.jpeg)


### 服务端模式

1. 在 PC 端的设置-数据同步开启同步功能（这时如果出现安全软件、防火墙等提示网络连接弹窗时需要点击允许）

2. 在移动端的设置-同步-同步服务器地址输入同步地址

:::tip

同步地址格式为:`http://IP:PORT`

将`IP`替换为 PC 端显示 IP(如果显示多个请填最相似那个)

将`PORT`替换为 PC 端显示 端口

:::

3. 输入完这两项后点击“启动同步”

4. 若连接成功，对于首次同步时，若两边的设备的列表不为空，则 PC 端会弹出选择列表同步方式的弹窗，同步方式的说明弹窗下面有介绍


### 客户端模式

该功能用于连接[独立版数据同步服务](https://github.com/lyswhut/lx-music-sync-server#readme)
或同一局域网下另一个启用了“服务端模式”的 PC 端

1. 在 PC 端的设置-数据同步选择“客户端模式”

2. 输入同步服务地址，使用方法与移动端一致，详情看“服务端模式”使用方法的第2、3点

:::tip
若你使用的是[独立版数据同步服务](https://github.com/lyswhut/lx-music-sync-server#readme)，则注意以下几点：

- 若你配置了SSL证书，则需要将上面第3步 `http://IP:PORT` 中的 `http:` 改为 `https:`
- 若你使用了域名，则将 `IP` 换成你的域名
- 若你使用的是`https`，并且对外端口号是`443`，则可以省略端口号的填写，例如 `https://example.com/lxsync`
- 若你使用的是`http`，并且对外端口号是`80`，则也可以省略端口号的填写

:::

## 连接同步服务失败的可能原因

- 此功能需要 PC 端与移动端都连接在同一个路由器下的网络才能使用（流量无法使用，可以手机开热点使用）

- 检查防火墙是否放行了软件，具体请百度

- 路由器若开启了 AP 隔离，则此功能无法使用（公司或公共网络可能会开启 AP 隔离）

## 连接同步服务失败的检查

1. 确保 PC 端的同步服务已启用成功（若连接码、同步服务地址没有内容，则证明服务启动失败，
   此时看启用同步功能复选框后面的错误信息自行解决）

2. 在手机浏览器地址栏输入`http://IP:PORT/hello`后回车，若此地址可以打开并显示 `Hello~::^-^::~v3~`
   则证明移动端与 PC 端网络已互通。

:::tip

将`IP`换成 PC 端显示的同步服务地址。

例如:`PORT`为 PC 端的端口号

:::

若移动端无法打开第 2 步的地址，则在 PC 端的浏览器地址栏输入并打开该地址，若可以打开，则要么是被 LX Music
PC 端被电脑防火墙拦截，要 么 PC 端与移动端不在同一个网络下，或者路由器开启了 AP 隔离（一般在公共网络下会出现这种情况）

## 关于同步弹窗的说明

对于首次同步时，若两边的设备的列表不为空，则 PC 端会弹出选择列表同步方式的弹窗，此弹窗内的同步方式仅针对**首次同步**

第一次同步成功后，以后再同步时将会自动根据两边设备的列表内容合并同步，不信你可以在同步完成后断开两边的连接，
然后在两边增删一些歌曲或列表后再同步试试看~😉
